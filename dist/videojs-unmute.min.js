const translate={en:"UNMUTE",zh:"激活声音",hi:"ध्वनि सक्रिय करें",es:"ACTIVAR SONIDO",fr:"ACTIVER LE SON",ar:"تنشيط الصوت",bn:"নিঃশব্দ",ru:"ВКЛЮЧИТЬ ЗВУК",pt:"ATIVAR SOM",de:"TON AKTIVIEREN",id:"AKTIFKAN SUARA"};let lang=window.navigator.languages?window.navigator.languages[0]:null;null==(lang=lang||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage)&&(lang="us-en");let shortLang=lang;-1!==shortLang.indexOf("-")&&(shortLang=shortLang.split("-")[0]),-1!==shortLang.indexOf("_")&&(shortLang=shortLang.split("_")[0]),console.log(lang,shortLang),void 0===translate[shortLang]?(console.log('Variable "shortLang" is undefined.'),translated="UNMUTE"):(console.log('Variable "shortLang": '+translate[shortLang]),translated=translate[shortLang]);const registerPlugin=videojs.registerPlugin||videojs.plugin;registerPlugin("unmuteButton",function(){let e=this,n=!1,t=!1,o=!1,l=!1;const a=e.id(),s=document.getElementById(a);if(!l){let e=document.createElement("div");e.classList.add("vjs-wrapper"),s.parentNode.insertBefore(e,s),e.appendChild(s),l=!0}if(!e.autoplay())return!1;e.muted(!0),n=!0,e.ready(function(){let l=e.play();void 0!==l&&l.then(function(){console.log("Autoplay started!")}).catch(function(e){console.log("Autoplay was prevented!")});let i=e.play();e.on("play",function(){t=!0,console.log("haveOverlay: "+o)}),void 0!==i&&e.autoplay()&&e.on("loadedmetadata",function(){if(console.log(e),console.log("playerid "+a),o)return!1;o=!0;let l=document.createElement("div");if(l.addEventListener("click",function(){e.muted(!1),n=!1,e.play(),e.volume(1),s.removeChild(l),o=!1}),document.querySelector(".vjs-loading-spinner").addEventListener("click",function(){e.muted(!1),e.volume(1),e.play(),s.removeChild(l),n=!1,o=!1}),e.on("playing",function(){!e.muted()&&t&&o&&(s.removeChild(l),o=!1,n=!1)}),e.on("ended",function(){console.log(n),e.muted()&&o&&t&&(console.log("on ended remove divOverlay"),console.log(o),console.log(n),s.removeChild(l),e.muted(!1),n=!1)}),console.log("isMuted: "+n),console.log("haveOverlay: "+o),!n)return o&&(s.removeChild(l),o=!1),!1;l.classList.add("vjs-unmute-overlay"),l.setAttribute("style","z-index: 1"),s.appendChild(l);let i=document.createElement("span"),r=document.getElementById(a).getElementsByClassName("vjs-unmute-overlay")[0];i.textContent=translated,i.classList.add("vjs-unmute"),i.setAttribute("style","z-index: 1"),r.appendChild(i)})})})
