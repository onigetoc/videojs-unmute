const translate={en:"UNMUTE",zh:"激活声音",hi:"ध्वनि सक्रिय करें",es:"ACTIVAR SONIDO",fr:"ACTIVER LE SON",ar:"تنشيط الصوت",bn:"নিঃশব্দ",ru:"ВКЛЮЧИТЬ ЗВУК",pt:"ATIVAR SOM",de:"TON AKTIVIEREN",id:"AKTIFKAN SUARA"};let lang=window.navigator.languages?window.navigator.languages[0]:null;null==(lang=lang||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage)&&(lang="us-en");let shortLang=lang;-1!==shortLang.indexOf("-")&&(shortLang=shortLang.split("-")[0]),-1!==shortLang.indexOf("_")&&(shortLang=shortLang.split("_")[0]),console.log(lang,shortLang),void 0===translate[shortLang]?(console.log('Variable "shortLang" is undefined.'),translated="UNMUTE"):(console.log('Variable "shortLang": '+translate[shortLang]),translated=translate[shortLang]);const registerPlugin=videojs.registerPlugin||videojs.plugin;registerPlugin("unmuteButton",function(){let e=this,n=!1,t=!1,o=!1,a=!1;const l=e.id(),s=document.getElementById(l);if(!a){let e=document.createElement("div");e.classList.add("vjs-wrapper"),s.parentNode.insertBefore(e,s),e.appendChild(s),a=!0}e.ready(function(){if(!e.autoplay())return!1;e.muted(!0);let a=e.play();e.on("play",function(){t=!0,console.log("hasOverlay: "+t)}),void 0!==a&&e.autoplay()&&e.on("loadedmetadata",function(){if(console.log(e),console.log("playerid "+l),o)return!1;let a=document.createElement("div");if(a.addEventListener("click",function(){e.muted(!1),e.volume(1),s.removeChild(a),n=!0,o=!1}),e.on("ended",function(){console.log(n),t&&o&&!n&&(console.log("on ended remove divOverlay"),console.log(o),console.log(n),s.removeChild(a),e.muted(!1),n=!0)}),console.log("isUnmuted: "+n),console.log("hasOverlay: "+o),n)return o&&(s.removeChild(a),o=!1),!1;o=!0,a.classList.add("vjs-unmute-overlay"),a.setAttribute("style","z-index: 1"),s.appendChild(a);let r=document.createElement("span"),i=document.getElementById(l).getElementsByClassName("vjs-unmute-overlay")[0];r.textContent=translated,r.classList.add("vjs-unmute"),r.setAttribute("style","z-index: 1"),i.appendChild(r)}),a.then(function(){console.log("CONSOLE2: Autoplay started!")}).catch(function(e){console.log("CONSOLE2 Autoplay was prevented!")})})}); 