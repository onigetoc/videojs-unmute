const translate={"en":"UNMUTE","zh":"激活声音","hi":"ध्वनि सक्रिय करें","es":"ACTIVAR SONIDO","fr":"ACTIVER LE SON","ar":"تنشيط الصوت","bn":"নিঃশব্দ","ru":"ВКЛЮЧИТЬ ЗВУК","pt":"ATIVAR SOM","de":"TON AKTIVIEREN","id":"AKTIFKAN SUARA"};let lang=window.navigator.languages?window.navigator.languages[0]:null;lang=lang||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage;if(typeof lang==="undefined"||lang===null)lang="us-en";let shortLang=lang;if(shortLang.indexOf("-")!==-1)shortLang=shortLang.split("-")[0];if(shortLang.indexOf("_")!==-1)shortLang=shortLang.split("_")[0];console.log(lang,shortLang);if(typeof translate[shortLang]==="undefined"){console.log('Variable "shortLang" is undefined.');translated=translated}else{console.log('Variable "shortLang": '+translate[shortLang]);translated=translate[shortLang]}const registerPlugin=videojs.registerPlugin||videojs.plugin;registerPlugin("unmuteButton",function(){let player=this;let setVol=player.volume();console.log(setVol);let volumeLevel=1;player.ready(function(){if(player.autoplay()){player.muted(true)}else{return false}let promise=player.play();if(promise!==undefined&&player.autoplay()){player.on("loadedmetadata",function(){console.log(player);let thisplayerid=player.id();console.log('playerid '+thisplayerid);const playerid=document.getElementById(player.id());let divOverlay=document.createElement("div");divOverlay.addEventListener("click",function(){player.muted(false);player.volume(volumeLevel);playerid.removeChild(divOverlay)});divOverlay.classList.add("vjs-unmute-overlay");divOverlay.setAttribute("style","color:white;");playerid.appendChild(divOverlay);let unmutedbutton=document.createElement("span");let getoverlay=document.getElementById("vid1").getElementsByClassName("vjs-unmute-overlay")[0];unmutedbutton.textContent=translated;unmutedbutton.classList.add("vjs-unmute");unmutedbutton.setAttribute("style","color:white;");getoverlay.appendChild(unmutedbutton)});console.log("CONSOLE2: Autoplay started!");promise.then(function(){console.log("CONSOLE2: Autoplay started!")}).catch(function(a){console.log("CONSOLE2 Autoplay was prevented")})}})});
